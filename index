<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ماشین حساب پمپ آب</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            direction: rtl; /* برای فارسی */
            background-color: #f4f7f6;
            margin: 20px;
            color: #333;
        }
        .container {
            background-color: #fff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            max-width: 600px;
            margin: 30px auto;
        }
        h2 {
            color: #0056b3;
            text-align: center;
            margin-bottom: 25px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }
        input[type="number"], select {
            width: calc(100% - 20px);
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
        }
        button {
            background-color: #28a745;
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            width: 100%;
            margin-top: 20px;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #218838;
        }
        .result {
            margin-top: 30px;
            padding: 20px;
            background-color: #e9f7ef;
            border: 1px solid #d4edda;
            border-radius: 8px;
            font-size: 17px;
            color: #155724;
            line-height: 1.6;
        }
        .result p {
            margin: 8px 0;
        }
        .warning {
            color: #856404;
            background-color: #fff3cd;
            border: 1px solid #ffeeba;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h2>ماشین حساب پمپ آب</h2>
        <div class="warning">
            <p><strong>توجه:</strong> قطر خروجی (اینچ) به تنهایی برای محاسبه دبی پمپ کافی نیست. لطفاً دبی پمپ (که معمولاً روی پلاک پمپ درج شده) را وارد کنید. اینچ فقط برای تبدیل واحد نمایش داده می‌شود.</p>
        </div>

        <div class="form-group">
            <label for="pumpFlow">دبی پمپ (Flow Rate):</label>
            <input type="number" id="pumpFlow" placeholder="مثال: 120" min="0" step="any">
            <select id="flowUnit">
                <option value="LPM">لیتر بر دقیقه (LPM)</option>
                <option value="CMH">متر مکعب بر ساعت (m³/h)</option>
            </select>
        </div>

        <div class="form-group">
            <label for="pipeDiameterInch">قطر لوله خروجی (اینچ) - اختیاری:</label>
            <input type="number" id="pipeDiameterInch" placeholder="مثال: 2" min="0" step="any" oninput="convertInchToCm()">
            <p id="cmOutput" style="margin-top: 5px; font-weight: bold; color: #007bff;"></p>
        </div>

        <button onclick="calculatePumpOutput()">محاسبه</button>

        <div class="result" id="results">
            </div>
    </div>

    <script>
        function convertInchToCm() {
            const inchInput = document.getElementById('pipeDiameterInch');
            const cmOutput = document.getElementById('cmOutput');
            const inchValue = parseFloat(inchInput.value);

            if (!isNaN(inchValue) && inchValue >= 0) {
                const cmValue = inchValue * 2.54;
                cmOutput.textContent = `معادل: ${cmValue.toFixed(2)} سانتی‌متر`;
            } else {
                cmOutput.textContent = '';
            }
        }

        function calculatePumpOutput() {
            const pumpFlowInput = document.getElementById('pumpFlow');
            const flowUnit = document.getElementById('flowUnit').value;
            const resultsDiv = document.getElementById('results');

            const pumpFlow = parseFloat(pumpFlowInput.value);

            if (isNaN(pumpFlow) || pumpFlow < 0) {
                resultsDiv.innerHTML = '<p style="color: red;">لطفاً دبی پمپ را به درستی وارد کنید.</p>';
                return;
            }

            let litersPerHour;
            let cubicMetersPerHour;

            if (flowUnit === 'LPM') {
                litersPerHour = pumpFlow * 60; // تبدیل لیتر بر دقیقه به لیتر بر ساعت
                cubicMetersPerHour = litersPerHour / 1000; // تبدیل لیتر بر ساعت به متر مکعب بر ساعت
            } else if (flowUnit === 'CMH') {
                cubicMetersPerHour = pumpFlow; // متر مکعب بر ساعت همان مقدار ورودی است
                litersPerHour = cubicMetersPerHour * 1000; // تبدیل متر مکعب بر ساعت به لیتر بر ساعت
            }

            resultsDiv.innerHTML = `
                <h3>نتایج محاسبه:</h3>
                <p><strong>حجم خروجی آب:</strong></p>
                <p><strong>${litersPerHour.toFixed(2)}</strong> لیتر در ساعت</p>
                <p><strong>${cubicMetersPerHour.toFixed(2)}</strong> متر مکعب در ساعت (m³/h)</p>
            `;
        }
    </script>

</body>
</html>
